{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@ianm/twofactor/webpack/bootstrap","webpack://@ianm/twofactor/webpack/runtime/compat get default export","webpack://@ianm/twofactor/webpack/runtime/define property getters","webpack://@ianm/twofactor/webpack/runtime/hasOwnProperty shorthand","webpack://@ianm/twofactor/webpack/runtime/make namespace object","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/app']\"","webpack://@ianm/twofactor/./src/common/index.ts","webpack://@ianm/twofactor/external root \"flarum.core.compat['forum/app']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/extend']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['forum/components/UserSecurityPage']\"","webpack://@ianm/twofactor/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ianm/twofactor/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/Component']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@ianm/twofactor/./src/forum/components/TwoFactorEnableModal.js","webpack://@ianm/twofactor/./src/forum/components/TwoFactorDisableConfirmModal .js","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@ianm/twofactor/./src/forum/components/TwoFactorGridItem.js","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@ianm/twofactor/./src/forum/components/TwoFactorGrid.js","webpack://@ianm/twofactor/./src/forum/components/TwoFactorSettings.js","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['forum/components/LogInModal']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['forum/ForumApplication']\"","webpack://@ianm/twofactor/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/extenders']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/models/Group']\"","webpack://@ianm/twofactor/external root \"flarum.core.compat['common/models/User']\"","webpack://@ianm/twofactor/./src/common/extend.ts","webpack://@ianm/twofactor/./src/forum/extend.ts","webpack://@ianm/twofactor/./src/forum/index.ts","webpack://@ianm/twofactor/./src/forum/extendUserSecurityPage.js","webpack://@ianm/twofactor/./src/forum/extendLogInModal.js","webpack://@ianm/twofactor/./src/forum/extendForumApplication.js","webpack://@ianm/twofactor/./src/forum/alertTwoFactorAuthentication.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('ianm/twofactor', () => {});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserSecurityPage'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nexport default class TwoFactorEnableModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.user = this.attrs.user;\n    // Statuses: 'loading', 'displayQR', 'displayBackupCodes', 'final'\n    this.status = 'loading';\n    this.qrCodeUrl = null;\n    this.backupCodes = [];\n    this.token = Stream('');\n    this.code = null;\n    this.activeTab = 'qrcode';\n  }\n\n  className() {\n    return 'TwoFactorEnableModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('ianm-twofactor.forum.security.two_factor_heading');\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    const userId = this.user.id();\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + `/users/${userId}/twofactor/qrcode`,\n      })\n      .then((response) => {\n        this.qrCodeUrl = response.svg;\n        this.code = response.code;\n        this.status = 'displayQR';\n        m.redraw();\n      });\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        {this.status === 'loading' && (\n          <div className=\"loading\">\n            <LoadingIndicator />\n            <p>{app.translator.trans('ianm-twofactor.forum.security.loading_qr')}</p>\n          </div>\n        )}\n\n        {this.status === 'displayQR' && (\n          <div>\n            <div className=\"tabs\">\n              <Button\n                className={this.activeTab === 'qrcode' ? 'active' : ''}\n                onclick={() => {\n                  this.activeTab = 'qrcode';\n                  m.redraw();\n                }}\n              >\n                {app.translator.trans('ianm-twofactor.forum.security.qr_tab')}\n              </Button>\n              <Button\n                className={this.activeTab === 'manual' ? 'active' : ''}\n                onclick={() => {\n                  this.activeTab = 'manual';\n                  m.redraw();\n                }}\n              >\n                {app.translator.trans('ianm-twofactor.forum.security.manual_tab')}\n              </Button>\n            </div>\n\n            {this.activeTab === 'qrcode' && (\n              <div className=\"qrSection\">\n                <img className=\"qrImage\" src={this.qrCodeUrl} alt={app.translator.trans('ianm-twofactor.forum.security.qr_code_alt')} />\n                <p className=\"helpText\">{app.translator.trans('ianm-twofactor.forum.security.scan_qr_instruction')}</p>\n              </div>\n            )}\n\n            {this.activeTab === 'manual' && (\n              <div className=\"manualEntrySection\">\n                <code className=\"manualEntryCode\">{this.code}</code>\n                <p className=\"helpText\">{app.translator.trans('ianm-twofactor.forum.security.manual_entry_instruction')}</p>\n              </div>\n            )}\n\n            <div className=\"Form\">\n              <div className=\"Form-group\">\n                <input className=\"FormControl\" bidi={this.token} placeholder={app.translator.trans('ianm-twofactor.forum.security.enter_token')} />\n              </div>\n              <div className=\"Form-group\">\n                <Button className=\"Button Button--primary\" onclick={this.verifyToken.bind(this)}>\n                  {app.translator.trans('ianm-twofactor.forum.security.verify_button')}\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {this.status === 'displayBackupCodes' && (\n          <div>\n            <p>{app.translator.trans('ianm-twofactor.forum.security.backup_codes')}</p>\n            <ul>\n              {this.backupCodes.map((code) => (\n                <li>\n                  <code>{code}</code>\n                </li>\n              ))}\n            </ul>\n            <p>{app.translator.trans('ianm-twofactor.forum.security.backup_codes_instruction')}</p>\n            <Button\n              className=\"Button Button--primary\"\n              onclick={() => {\n                this.status = 'final';\n                m.redraw();\n              }}\n            >\n              {app.translator.trans('ianm-twofactor.forum.security.saved_backup_codes_button')}\n            </Button>\n          </div>\n        )}\n\n        {this.status === 'final' && (\n          <div>\n            <p>{app.translator.trans('ianm-twofactor.forum.security.two_factor_enabled_confirmation')}</p>\n            <Button className=\"Button Button--primary\" onclick={this.finish.bind(this)}>\n              {app.translator.trans('ianm-twofactor.forum.security.ok_button')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  verifyToken() {\n    app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/users/twofactor/verify',\n        body: {\n          token: this.token(),\n        },\n      })\n      .then((response) => {\n        this.backupCodes = response.backupCodes;\n        this.status = 'displayBackupCodes';\n        this.user.twoFactorEnabled(true);\n        m.redraw();\n      })\n      .catch((error) => {\n        alert('Verification failed. Please try again.');\n      });\n  }\n\n  finish() {\n    this.attrs.onEnabled();\n    this.hide();\n  }\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\n\nexport default class TwoFactorDisableConfirmModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loading = false;\n  }\n\n  className() {\n    return 'TwoFactorDisableConfirmModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('ianm-twofactor.forum.security.confirm_disable_2fa_title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <p>{app.translator.trans('ianm-twofactor.forum.security.confirm_disable_2fa_text')}</p>\n        <div className=\"Form-group\">\n          <Button className=\"Button Button--danger\" onclick={this.disable.bind(this)} loading={this.loading}>\n            {app.translator.trans('ianm-twofactor.forum.security.disable_2fa_button')}\n          </Button>\n          <Button className=\"Button Button--cancel\" onclick={this.hide.bind(this)}>\n            {app.translator.trans('ianm-twofactor.forum.security.cancel_button')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  disable() {\n    this.loading = true;\n    const userId = this.attrs.user.id();\n\n    app\n      .request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + `/users/${userId}/twofactor/disable`,\n      })\n      .then(() => {\n        this.loading = false;\n        this.attrs.onDisabled();\n        this.hide();\n      })\n      .catch((error) => {\n        // Handle any errors.\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import Component from 'flarum/common/Component';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default class TwoFactorGridItem extends Component {\n  view() {\n    const { icon: iconName, title, value, action, helpText } = this.attrs;\n\n    return (\n      <li className=\"TwoFactorGrid-item\">\n        <span className=\"TwoFactorGrid-icon\">{icon(iconName)}</span>\n        <div className=\"TwoFactorGrid-content\">\n          <span className=\"TwoFactorGrid-title\">{title}</span>\n          <span className=\"TwoFactorGrid-value\">{value}</span>\n          {helpText && <span className=\"helpText TwoFactorGrid-helpText\">{helpText}</span>}\n        </div>\n        {action && <span className=\"TwoFactorGrid-actions\">{action}</span>}\n      </li>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport TwoFactorGridItem from './TwoFactorGridItem';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport TwoFactorEnableModal from './TwoFactorEnableModal';\nimport TwoFactorDisableConfirmModal from './TwoFactorDisableConfirmModal ';\n\nexport default class TwoFactorGrid extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.user = this.attrs.user;\n    this.twoFactorEnabled = this.user.twoFactorEnabled();\n    this.canDisableTwoFactor = this.user.canDisable2FA();\n    this.backupCodesRemaining = this.user.backupCodesRemaining() || 0;\n  }\n\n  view() {\n    return (\n      <div className=\"TwoFactorGrid\">\n        <ul>{listItems(this.twoFactorItems().toArray())}</ul>\n      </div>\n    );\n  }\n\n  twoFactorItems() {\n    const items = new ItemList();\n\n    const disableAction = this.getDisableAction();\n    const enableAction = (\n      <Button className=\"Button Button--primary\" onclick={this.enableTwoFactor.bind(this)}>\n        {app.translator.trans('ianm-twofactor.forum.security.enable_2fa_button')}\n      </Button>\n    );\n\n    items.add(\n      'status',\n      <TwoFactorGridItem\n        icon=\"fas fa-shield-alt\"\n        title={app.translator.trans('ianm-twofactor.forum.security.two_factor_title')}\n        value={\n          this.twoFactorEnabled\n            ? app.translator.trans('ianm-twofactor.forum.security.two_factor_enabled')\n            : app.translator.trans('ianm-twofactor.forum.security.two_factor_disabled')\n        }\n        action={this.twoFactorEnabled ? disableAction : enableAction}\n        helpText={!this.canDisableTwoFactor && app.translator.trans('ianm-twofactor.forum.security.cannot_disable')}\n      />\n    );\n\n    // Only continue to add other items if Two Factor Authentication is enabled\n    if (!this.twoFactorEnabled) return items;\n\n    items.add(\n      'backupCodes',\n      <TwoFactorGridItem\n        icon=\"fas fa-key\"\n        title=\"Backup Codes Remaining:\"\n        value={this.backupCodesRemaining}\n        // action={\n        //   this.backupCodesRemaining < 2 ? (\n        //     <Button className=\"Button Button--primary\" onclick={this.generateBackupCodes.bind(this)}>\n        //       Generate More\n        //     </Button>\n        //   ) : null\n        // }\n      />\n    );\n\n    // Add other items as needed\n\n    return items;\n  }\n\n  getDisableAction() {\n    const disableButton = (\n      <Button className=\"Button Button--danger\" onclick={this.disableTwoFactor.bind(this)} disabled={!this.canDisableTwoFactor}>\n        {app.translator.trans('ianm-twofactor.forum.security.disable_2fa_button')}\n      </Button>\n    );\n\n    return !this.canDisableTwoFactor ? (\n      <Tooltip text={app.translator.trans('ianm-twofactor.forum.security.cannot_disable_tooltip')}>{disableButton}</Tooltip>\n    ) : (\n      disableButton\n    );\n  }\n\n  enableTwoFactor() {\n    app.modal.show(TwoFactorEnableModal, { onEnabled: this.onTwoFactorEnabled.bind(this), user: this.user });\n  }\n\n  onTwoFactorEnabled() {\n    this.twoFactorEnabled = true;\n    m.redraw();\n  }\n\n  disableTwoFactor() {\n    app.modal.show(TwoFactorDisableConfirmModal, { onDisabled: this.onTwoFactorDisabled.bind(this), user: this.user });\n  }\n\n  onTwoFactorDisabled() {\n    this.twoFactorEnabled = false;\n    m.redraw();\n  }\n\n  generateBackupCodes() {\n    // Logic to generate more backup codes\n    // Update this.backupCodesRemaining accordingly\n    m.redraw();\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport TwoFactorEnableModal from './TwoFactorEnableModal';\nimport TwoFactorDisableConfirmModal from './TwoFactorDisableConfirmModal ';\nimport TwoFactorGrid from './TwoFactorGrid';\n\nexport default class TwoFactorSettings extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.twoFactorEnabled = this.attrs.user.twoFactorEnabled();\n    this.canDisableTwoFactor = this.attrs.user.canDisable2FA();\n    this.loading = false;\n  }\n\n  view() {\n    return (\n      // <div className=\"TwoFactorSettings\">\n      //   <div className=\"Form-group\">\n      //     {this.twoFactorEnabled ? (\n      //       <div>\n      //         <p>{app.translator.trans('ianm-twofactor.forum.security.two_factor_enabled')}</p>\n      //         <Button className=\"Button Button--danger\" onclick={this.disableTwoFactor.bind(this)} disabled={!this.canDisableTwoFactor}>\n      //           {app.translator.trans('ianm-twofactor.forum.security.disable_2fa_button')}\n      //         </Button>\n      //         {!this.canDisableTwoFactor && <p className=\"helpText\">{app.translator.trans('ianm-twofactor.forum.security.cannot_disable')}</p>}\n      //       </div>\n      //     ) : (\n      //       <div>\n      //         <p>{app.translator.trans('ianm-twofactor.forum.security.two_factor_disabled')}</p>\n      //         <Button className=\"Button Button--primary Button--2fa\" onclick={this.enableTwoFactor.bind(this)} icon=\"fas fa-shield-alt\">\n      //           {app.translator.trans('ianm-twofactor.forum.security.enable_2fa_button')}\n      //         </Button>\n      //       </div>\n      //     )}\n      //   </div>\n      // </div>,\n      <div>\n        <TwoFactorGrid user={this.attrs.user} />\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/ForumApplication'];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Group'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","import Extend from 'flarum/common/extenders';\nimport Group from 'flarum/common/models/Group';\nimport User from 'flarum/common/models/User';\n\nexport default [\n  new Extend.Model(User) //\n    .attribute<boolean>('twoFactorEnabled')\n    .attribute<boolean>('canDisable2FA')\n    .attribute<boolean>('mustEnable2FA')\n    .attribute<number>('backupCodesRemaining'),\n\n  new Extend.Model(Group) //\n    .attribute<boolean>('requires2FA'),\n];\n","import commonExtend from '../common/extend';\n\nexport default [...commonExtend];\n","import app from 'flarum/forum/app';\nimport extendUserSecurityPage from './extendUserSecurityPage';\nimport extendLogInModal from './extendLogInModal';\nimport extendForumApplication from './extendForumApplication';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('ianm/twofactor', () => {\n  extendUserSecurityPage();\n  extendLogInModal();\n  extendForumApplication();\n});\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport UserSecurityPage from 'flarum/forum/components/UserSecurityPage';\nimport TwoFactorSettings from './components/TwoFactorSettings';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function extendUserSecurityPage() {\n  extend(UserSecurityPage.prototype, 'settingsItems', function (items) {\n    items.add(\n      'twoFactor',\n      <FieldSet label={app.translator.trans('ianm-twofactor.forum.security.two_factor_heading')}>\n        <p className=\"helpText\">{app.translator.trans('ianm-twofactor.forum.security.two_factor_help')}</p>\n        <p className=\"helpText\">\n          {app.translator.trans('ianm-twofactor.forum.security.two_factor_apps', {\n            google: (\n              <LinkButton\n                external={true}\n                href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Google Authenticator\n              </LinkButton>\n            ),\n            microsoft: (\n              <LinkButton external={true} href=\"https://www.microsoft.com/en-us/account/authenticator\" target=\"_blank\" rel=\"noopener noreferrer\">\n                Microsoft Authenticator\n              </LinkButton>\n            ),\n            authy: (\n              <LinkButton external={true} href=\"https://authy.com/download/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                Authy\n              </LinkButton>\n            ),\n          })}\n        </p>\n        <TwoFactorSettings user={this.user} />\n      </FieldSet>,\n      100\n    );\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport LogInModal from 'flarum/forum/components/LogInModal';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default function extendLogInModal() {\n  extend(LogInModal.prototype, 'oninit', function (vnode) {\n    // Initialize the 2FA token stream\n    this.twoFactorToken = Stream('');\n    this.twoFactorRequired = false;\n  });\n\n  extend(LogInModal.prototype, 'fields', function (items) {\n    // Add the 2FA input field to the form\n    if (this.twoFactorRequired) {\n      items.add(\n        'twoFactor',\n        <div className=\"Form-group TwoFactorInput\">\n          <input\n            className=\"FormControl\"\n            name=\"twoFactorToken\"\n            type=\"text\"\n            placeholder={app.translator.trans('ianm-twofactor.forum.log_in.two_factor_placeholder')}\n            bidi={this.twoFactorToken}\n            disabled={this.loading}\n          />\n        </div>,\n        19\n      );\n\n      items.remove('identification');\n      items.remove('password');\n      items.remove('remember');\n    }\n  });\n\n  extend(LogInModal.prototype, 'loginParams', function (data) {\n    // Add the twoFactorToken to the login params\n    data.twoFactorToken = this.twoFactorToken();\n\n    return data;\n  });\n\n  override(LogInModal.prototype, 'onerror', function (original, error) {\n    if (error.status === 401) {\n      const errors = error.response && error.response.errors;\n      const firstErrorDetail = (errors && errors[0] && errors[0].detail) || '';\n\n      if (firstErrorDetail.includes('two_factor_required')) {\n        // If the error indicates that 2FA is required, show the 2FA input field\n        this.twoFactorRequired = true;\n        error.alert.content = app.translator.trans('ianm-twofactor.forum.log_in.two_factor_required_message');\n        this.alertAttrs = error.alert;\n      } else {\n        // Handle other types of 401 errors here\n        error.alert.content = app.translator.trans('core.forum.log_in.invalid_login_message');\n        this.alertAttrs = error.alert;\n      }\n      m.redraw();\n      this.onready();\n    } else {\n      original(error);\n    }\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport ForumApplication from 'flarum/forum/ForumApplication';\nimport alertTwoFactorAuthentication from './alertTwoFactorAuthentication';\n\nexport default function extendForumApplication() {\n  extend(ForumApplication.prototype, 'mount', function () {\n    alertTwoFactorAuthentication(app);\n  });\n}\n","import Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport Component from 'flarum/common/Component';\nimport TwoFactorEnableModal from './components/TwoFactorEnableModal';\n\n/**\n * Shows an alert if the user has not enabled 2FA.\n *\n * @param {import('../ForumApplication').default} app\n */\nexport default function alertTwoFactorAuthentication(app) {\n  const user = app.session.user;\n\n  if (!user || !user.mustEnable2FA()) return;\n\n  class Enable2FAButton extends Component {\n    view() {\n      return (\n        <Button className=\"Button Button--link\" onclick={this.onclick.bind(this)} icon=\"fas fa-shield-alt\">\n          {app.translator.trans('ianm-twofactor.forum.security.enable_2fa_button')}\n        </Button>\n      );\n    }\n\n    onclick() {\n      app.modal.show(TwoFactorEnableModal, { user });\n    }\n  }\n\n  class ContainedAlert extends Alert {\n    view(vnode) {\n      const vdom = super.view(vnode);\n      return { ...vdom, children: [<div className=\"container\">{vdom.children}</div>] };\n    }\n  }\n\n  m.mount($('<div className=\"App-notices\"/>').insertBefore('#content')[0], {\n    view: () => (\n      <ContainedAlert dismissible={false} controls={[<Enable2FAButton />]} className=\"Alert--2faEnable\">\n        {app.translator.trans('ianm-twofactor.forum.user_2fa.alert_message')}\n      </ContainedAlert>\n    ),\n  });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","app","add","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","TwoFactorEnableModal","_Modal","apply","arguments","_proto","oninit","vnode","this","user","attrs","status","qrCodeUrl","backupCodes","token","Stream","code","activeTab","className","title","trans","oncreate","_this","userId","id","method","url","attribute","then","response","svg","m","redraw","content","_this2","LoadingIndicator","Button","onclick","src","alt","bidi","placeholder","verifyToken","map","finish","_this3","body","twoFactorEnabled","error","alert","onEnabled","hide","Modal","TwoFactorDisableConfirmModal","loading","disable","onDisabled","TwoFactorGridItem","_Component","view","_this$attrs","iconName","icon","action","helpText","Component","TwoFactorGrid","canDisableTwoFactor","canDisable2FA","backupCodesRemaining","listItems","twoFactorItems","toArray","items","ItemList","disableAction","getDisableAction","enableAction","enableTwoFactor","disableButton","disableTwoFactor","disabled","Tooltip","text","show","onTwoFactorEnabled","onTwoFactorDisabled","generateBackupCodes","TwoFactorSettings","_extends","assign","target","i","length","source","Extend","User","Group","concat","commonExtend","extend","UserSecurityPage","FieldSet","label","google","LinkButton","external","href","rel","microsoft","authy","LogInModal","twoFactorToken","twoFactorRequired","name","type","remove","data","override","original","errors","detail","includes","alertAttrs","onready","ForumApplication","session","mustEnable2FA","Enable2FAButton","translator","modal","ContainedAlert","_Alert","vdom","children","Alert","mount","$","insertBefore","dismissible","controls","alertTwoFactorAuthentication"],"sourceRoot":""}